{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/CalculoMontante.ts","webpack:///./src/Industrias.ts","webpack:///./src/InformacoesPessoais.ts","webpack:///./src/InteractiveForm.ts","webpack:///./src/Residuos.ts","webpack:///./src/Revisao.ts","webpack:///./src/SearchMode.ts","webpack:///./src/Section.ts","webpack:///./src/Servicos.ts","webpack:///./src/StateManager.ts","webpack:///./src/app.ts","webpack:///./src/helpers.ts"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAA+B;AAG/B,MAAM,eAAgB,SAAQ,gDAAO;IACjC,MAAM,CAAC,IAAqB;QACxB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC9C,CAAC;CACJ;AAEc,8EAAe;;;;;;;;;;;;;ACT9B;AAAA;AAA+B;AAG/B,MAAM,UAAW,SAAQ,gDAAO;IAC5B,MAAM,CAAC,IAAqB;QACxB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC9C,CAAC;CACJ;AAEc,yEAAU;;;;;;;;;;;;;ACTzB;AAAA;AAA+B;AAE/B,MAAM,mBAAoB,SAAQ,gDAAO;IACrC,MAAM,CAAC,IAAyC;QAC5C,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC9C,CAAC;CACJ;AAEc,kFAAmB;;;;;;;;;;;;;ACLlC;AAAA,MAAM,eAAe;IAKjB,YAAY,YAA0B;QAH9B,aAAQ,GAAc,EAAE;QAI5B,IAAI,CAAC,KAAK,GAAG,YAAY;QACzB,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC;IAChC,CAAC;IAEM,WAAW,CAAC,IAAY;QAC3B,MAAM,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC;QACtC,IAAI,CAAC,aAAa,GAAG,KAAK;QAC1B,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;IACpB,CAAC;IAEM,UAAU,CAAC,GAAG,QAAmB;QACpC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,GAAG,QAAQ,CAAC;IACnC,CAAC;IAEM,MAAM,CAAC,KAAY;QACtB,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC;IACpC,CAAC;IAEO,aAAa,CAAC,IAAY;QAC9B,MAAM,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC;QACpE,IAAI,CAAC,OAAO,EAAE;YAAE,MAAM,IAAI,KAAK,CAAC,WAAW,IAAI,YAAY,CAAC;SAAE;QAC9D,OAAO,OAAO;IAClB,CAAC;CACJ;AAEc,8EAAe;;;;;;;;;;;;;AClC9B;AAAA;AAA+B;AAG/B,MAAM,QAAS,SAAQ,gDAAO;IAC1B,MAAM,CAAC,IAAqB;QACxB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC9C,CAAC;CACJ;AAEc,uEAAQ;;;;;;;;;;;;;ACTvB;AAAA;AAA+B;AAG/B,MAAM,OAAQ,SAAQ,gDAAO;IACzB,MAAM,CAAC,IAAqB;QACxB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC9C,CAAC;CACJ;AAEc,sEAAO;;;;;;;;;;;;;ACTtB;AAAA;AAA+B;AAG/B,MAAM,UAAW,SAAQ,gDAAO;IAC5B,MAAM,CAAC,IAAqB;QACxB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC9C,CAAC;CACJ;AAEc,yEAAU;;;;;;;;;;;;;ACNzB;AAAA,MAAe,OAAO;IAIlB,YAAY,WAAmB;QAC3B,IAAI,CAAC,IAAI,GAAG,WAAW;QACvB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAC1C,CAAC;IAEO,MAAM,CAAC,IAAI,CAAC,IAAY;QAC5B,OAAO,QAAQ,CAAC,aAAa,CAAC,iBAAiB,IAAI,GAAG,CAAgB;IAC1E,CAAC;IAED,IAAI,CAAC,IAAqB;QACtB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC;QACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;IACrB,CAAC;IAID,MAAM,CAAC,KAAY;QACf,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,IAAI;QACA,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC;IAC3C,CAAC;CACJ;AAEc,sEAAO;;;;;;;;;;;;;AChCtB;AAAA;AAA+B;AAG/B,MAAM,QAAS,SAAQ,gDAAO;IAC1B,MAAM,CAAC,IAAqB;QACxB,MAAM,IAAI,KAAK,CAAC,yBAAyB,CAAC;IAC9C,CAAC;CACJ;AAEc,uEAAQ;;;;;;;;;;;;;ACRvB;AAAA;AAAuC;AAevC,MAAM,YAAY;IAId;QAHQ,cAAS,GAAe,EAAE;QAI9B,IAAI,CAAC,KAAK,GAAG;YACT,IAAI,EAAE,EAAE;YACR,SAAS,EAAE,EAAE;YACb,OAAO,EAAE,EAAE;YACX,OAAO,EAAE,IAAI;YACb,KAAK,EAAE,EAAE;YACT,QAAQ,EAAE,IAAI,QAAQ,EAAE;SAC3B;QACD,4DAAW,CAAC,6DAA6D,CAAC;aACrE,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC;IAChD,CAAC;IAEM,QAAQ,CAAC,MAAmB;QAC/B,IAAI,MAAM,CAAC,OAAO,EAAE;YAChB,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,KAAK,MAAM,CAAC,OAAO,CAAC;SACrF;QACD,IAAI,CAAC,KAAK,GAAG,EAAE,GAAG,IAAI,CAAC,KAAK,EAAE,GAAG,MAAM,EAAE;QACzC,IAAI,CAAC,eAAe,EAAE;IAC1B,CAAC;IAEM,WAAW,CAAC,QAAkB;QACjC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC;IACjC,CAAC;IAEO,eAAe;QACnB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IACnE,CAAC;CACJ;AAEc,2EAAY;;;;;;;;;;;;;AClD3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AACV;AACA;AACJ;AACA;AACc;AACQ;AACxB;AACU;AAEzC,MAAM,YAAY,GAAG,IAAI,qDAAY,EAAE;AACvC,MAAM,IAAI,GAAG,IAAI,wDAAe,CAAC,YAAY,CAAC;AAE9C,MAAM,UAAU,GAAG,IAAI,mDAAU,CAAC,kBAAkB,CAAC;AACrD,MAAM,UAAU,GAAG,IAAI,mDAAU,CAAC,YAAY,CAAC;AAC/C,MAAM,QAAQ,GAAG,IAAI,iDAAQ,CAAC,UAAU,CAAC;AACzC,MAAM,QAAQ,GAAG,IAAI,iDAAQ,CAAC,UAAU,CAAC;AACzC,MAAM,eAAe,GAAG,IAAI,wDAAe,CAAC,kBAAkB,CAAC;AAC/D,MAAM,mBAAmB,GAAG,IAAI,4DAAmB,CAAC,sBAAsB,CAAC;AAC3E,MAAM,OAAO,GAAG,IAAI,gDAAO,CAAC,SAAS,CAAC;AAEtC,IAAI,CAAC,UAAU,CACX,UAAU,EACV,UAAU,EACV,QAAQ,EACR,QAAQ,EACR,eAAe,EACf,mBAAmB,EACnB,OAAO,CACV;AAED,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC;;;;;;;;;;;;;AC7BjC;AAAA;AAAA;AAAA;AAAO,SAAS,IAAI,CAAC,IAAY;IAC7B,IAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;IACxC,GAAG,GAAG,GAAG,CAAC,WAAW,EAAE;IAEvB,MAAM,IAAI,GAAG,+BAA+B;IAC5C,MAAM,EAAE,GAAG,+BAA+B;IAE1C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAG,CAAC,GAAG,CAAC,EAAG,CAAC,EAAE,EAAE;QAC3C,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KACnE;IAED,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,cAAc,EAAE,EAAE,CAAC;SAChC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC;SACpB,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;IAExB,OAAO,GAAG;AACd,CAAC;AAGM,SAAS,UAAU,CAAC,KAAa;IACpC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC;AACrC,CAAC;AAEM,KAAK,UAAU,WAAW,CAAC,GAAW;IACzC,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC;IACjC,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;IAClC,OAAO,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;QACvC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;QACjC,OAAO,CAAC,UAAU,GAAG,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,UAAU,CAAC;QACvD,OAAO,OAAO;IAClB,CAAC,CAAC;AACN,CAAC","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.ts\");\n","import Section from './Section'\nimport InteractiveForm from './InteractiveForm'\n\nclass CalculoMontante extends Section {\n    oninit(form: InteractiveForm): void {\n        throw new Error('Method not implemented.')\n    }\n}\n\nexport default CalculoMontante\n","import Section from './Section'\nimport InteractiveForm from './InteractiveForm'\n\nclass Industrias extends Section {\n    oninit(form: InteractiveForm): void {\n        throw new Error('Method not implemented.')\n    }\n}\n\nexport default Industrias\n","import Section from './Section'\n\nclass InformacoesPessoais extends Section {\n    oninit(form: import('./InteractiveForm').default): void {\n        throw new Error('Method not implemented.')\n    }\n}\n\nexport default InformacoesPessoais\n","import Section from './Section'\nimport StateManager, { Listener, State } from './StateManager'\n\nclass InteractiveForm implements Listener {\n    private activeSection: Section;\n    private sections: Section[] = []\n    state: StateManager\n\n    constructor(stateManager: StateManager) {\n        this.state = stateManager\n        this.state.addListener(this)\n    }\n\n    public moveSection(name: string): void {\n        const found = this.findSectionBy(name)\n        this.activeSection = found\n        found.init(this)\n    }\n\n    public addSection(...sections: Section[]): void {\n        this.sections.push(...sections)\n    }\n\n    public update(state: State): void {\n        this.activeSection.update(state)\n    }\n\n    private findSectionBy(name: string): Section {\n        const section = this.sections.find(section => section.name === name)\n        if (!section) { throw new Error(`Section ${name} not found`) }\n        return section\n    }\n}\n\nexport default InteractiveForm\n","import Section from './Section'\nimport InteractiveForm from './InteractiveForm'\n\nclass Residuos extends Section {\n    oninit(form: InteractiveForm): void {\n        throw new Error('Method not implemented.')\n    }\n}\n\nexport default Residuos\n","import Section from './Section'\nimport InteractiveForm from './InteractiveForm'\n\nclass Revisao extends Section {\n    oninit(form: InteractiveForm): void {\n        throw new Error('Method not implemented.')\n    }\n}\n\nexport default Revisao\n","import Section from './Section'\nimport InteractiveForm from './InteractiveForm'\n\nclass SearchMode extends Section {\n    oninit(form: InteractiveForm): void {\n        throw new Error('Method not implemented.')\n    }\n}\n\nexport default SearchMode\n","import InteractiveForm from './InteractiveForm'\nimport { State } from './StateManager'\n\nabstract class Section {\n    section: HTMLElement;\n    name: string;\n\n    constructor(sectionName: string) {\n        this.name = sectionName\n        this.section = Section.find(this.name)\n    }\n\n    private static find(name: string): HTMLElement {\n        return document.querySelector(`[data-section=${name}]`) as HTMLElement\n    }\n\n    init(form: InteractiveForm): void {\n        this.section.classList.add('active')\n        this.oninit(form)\n    }\n\n    abstract oninit(form: InteractiveForm): void;\n\n    update(state: State): void {\n        console.log(state)\n    }\n\n    exit(): void {\n        this.section.classList.remove('active')\n    }\n}\n\nexport default Section\n","import Section from './Section'\nimport InteractiveForm from './InteractiveForm'\n\nclass Servicos extends Section {\n    oninit(form: InteractiveForm): void {\n        throw new Error('Method not implemented.')\n    }\n}\n\nexport default Servicos\n","import { Residuo } from './Residuo'\r\nimport { getResiduos } from './helpers'\r\n\r\nexport interface Listener {\r\n    update(state: State): void;\r\n}\r\n\r\nexport type State = {\r\n    modo: string;\r\n    industria: string;\r\n    servico: string;\r\n    residuo: Residuo | string;\r\n    dados: Residuo[];\r\n    formData: FormData;\r\n}\r\n\r\nclass StateManager {\r\n    private listeners: Listener[] = []\r\n    private state: State;\r\n\r\n    constructor() {\r\n        this.state = {\r\n            modo: '',\r\n            industria: '',\r\n            servico: '',\r\n            residuo: null,\r\n            dados: [],\r\n            formData: new FormData()\r\n        }\r\n        getResiduos('http://gruporodocon.com.br/residuos3/wp-json/wp/v2/pages/45')\r\n            .then(dados => this.setState({ dados }))\r\n    }\r\n\r\n    public setState(values: State | any): void {\r\n        if (values.residuo) {\r\n            values.residuo = this.state.dados.find(residuo => residuo.slug === values.residuo)\r\n        }\r\n        this.state = { ...this.state, ...values }\r\n        this.notifyListeners()\r\n    }\r\n\r\n    public addListener(listener: Listener): void {\r\n        this.listeners.push(listener)\r\n    }\r\n\r\n    private notifyListeners(): void {\r\n        this.listeners.forEach(listener => listener.update(this.state))\r\n    }\r\n}\r\n\r\nexport default StateManager\r\n","import InteractiveForm from './InteractiveForm'\nimport SearchMode from './SearchMode'\nimport Industrias from './Industrias'\nimport Servicos from './Servicos'\nimport Residuos from './Residuos'\nimport CalculoMontante from './CalculoMontante'\nimport InformacoesPessoais from './InformacoesPessoais'\nimport Revisao from './Revisao'\nimport StateManager from './StateManager'\n\nconst stateManager = new StateManager()\nconst form = new InteractiveForm(stateManager)\n\nconst searchMode = new SearchMode('modo-de-pesquisa')\nconst industrias = new Industrias('industrias')\nconst servicos = new Servicos('servicos')\nconst residuos = new Residuos('residuos')\nconst calculoMontante = new CalculoMontante('calculo-montante')\nconst informacoesPessoais = new InformacoesPessoais('informacoes-pessoais')\nconst revisao = new Revisao('revisao')\n\nform.addSection(\n    searchMode,\n    industrias,\n    servicos,\n    residuos,\n    calculoMontante,\n    informacoesPessoais,\n    revisao\n)\n\nform.moveSection(searchMode.name)\n","import { Residuo } from './Residuo'\n\nexport function slug(text: string): string {\n    let str = text.replace(/^\\s+|\\s+$/g, '')\n    str = str.toLowerCase()\n\n    const from = 'ãàáäâèéëêìíïîòóöôùúüûñç·/_,:;'\n    const to = 'aaaaaeeeeiiiioooouuuunc------'\n\n    for (let i = 0, l = from.length ; i < l ; i++) {\n        str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i))\n    }\n\n    str = str.replace(/[^a-z0-9 -]/g, '')\n        .replace(/\\s+/g, '-')\n        .replace(/-+/g, '-')\n\n    return str\n}\n\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function slugObject(value: string) {\n    return ({ [slug(value)]: value })\n}\n\nexport async function getResiduos(uri: string): Promise<Residuo[]> {\n    const response = await fetch(uri)\n    const data = await response.json()\n    return data.acf.card_residuo.map(residuo => {\n        residuo.slug = slug(residuo.nome)\n        residuo.industrias = residuo.industrias.map(slugObject)\n        return residuo\n    })\n}\n"],"sourceRoot":""}